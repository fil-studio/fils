{
  "version": 3,
  "sources": ["../../src/components/Panel.ts"],
  "sourcesContent": ["import { el } from \"@fils/utils\";\nimport { CSS_UI } from \"../partials/cssClasses\";\nimport { Item } from \"./items/Item\";\n\nexport class Panel {\n\tel!: HTMLElement;\n\tappendTo!: HTMLElement;\n\n\tparent: Item | null = null;\n\tcreated: boolean = false;\n\n\tconstructor(parent: Item, appendTo?: HTMLElement) {\n\n\t\tthis.parent = parent;\n\t\tthis.appendTo = appendTo ? appendTo : parent.content;\n\n\t\tthis.addEventListeners();\n\t}\n\n\taddEventListeners(): void {\n\n\t\twindow.addEventListener('resize', () => this.onResize());\n\n\t}\n\n\tpositionPanel(): void {\n\t\tif (!this.created) return;\n\n\t\tconst r = this.appendTo.getBoundingClientRect();\n\n\t\tthis.el.style.top = `${r.top + r.height}px`;\n\t\tthis.el.style.width = `${r.width}px`;\n\t\tthis.el.style.left = `${r.left}px`;\n\t}\n\n\tcreatePanelContent(){\n\t\t// Override this\n\t}\n\n\tcreate(): void {\n\n\t\tif (this.created) return;\n\t\tthis.created = true;\n\n\t\t// This needs to be provided by the parent each time as the dom changes\n\t\tconst parentDomStyle = getComputedStyle(this.appendTo.closest('section') as HTMLElement);\n\t\tconst bg0 = parentDomStyle.getPropertyValue('--section-bg-0');\n\t\tconst bg1 = parentDomStyle.getPropertyValue('--section-bg-1');\n\n\t\tthis.el = el('div', CSS_UI.panel.baseClass);\n\t\tthis.el.classList.add(`${CSS_UI.panel.baseClass}-${this.parent!.params.view}`)\n\n\t\tthis.el.style.setProperty('--section-bg-0', bg0);\n\t\tthis.el.style.setProperty('--section-bg-1', bg1);\n\n\t\tthis.positionPanel();\n\n\t\tthis.createPanelContent();\n\n\t\tdocument.body.appendChild(this.el);\n\n\t\tthis.el.classList.add(CSS_UI.utility.loaded);\n\n\t\t// This little trick allows transitions to work\n\t\tsetTimeout(() => this.el.classList.add(CSS_UI.utility.active), 10);\n\t}\n\n\tdestroy(): void {\n\t\tif (!this.created) return;\n\t\tthis.el.remove();\n\t\tthis.created = false;\n\t}\n\n\tonResize(): void {\n\t\tthis.positionPanel();\n\t}\n\n\tonChange(): void {\n\t}\n}"],
  "mappings": "AAAA,OAAS,MAAAA,MAAU,cACnB,OAAS,UAAAC,MAAc,yBAGhB,aAAM,KAAM,CAOlB,YAAYC,EAAcC,EAAwB,CAHlD,YAAsB,KACtB,aAAmB,GAIlB,KAAK,OAASD,EACd,KAAK,SAAWC,GAAsBD,EAAO,QAE7C,KAAK,kBAAkB,CACxB,CAEA,mBAA0B,CAEzB,OAAO,iBAAiB,SAAU,IAAM,KAAK,SAAS,CAAC,CAExD,CAEA,eAAsB,CACrB,GAAI,CAAC,KAAK,QAAS,OAEnB,MAAME,EAAI,KAAK,SAAS,sBAAsB,EAE9C,KAAK,GAAG,MAAM,IAAM,GAAGA,EAAE,IAAMA,EAAE,WACjC,KAAK,GAAG,MAAM,MAAQ,GAAGA,EAAE,UAC3B,KAAK,GAAG,MAAM,KAAO,GAAGA,EAAE,QAC3B,CAEA,oBAAoB,CAEpB,CAEA,QAAe,CAEd,GAAI,KAAK,QAAS,OAClB,KAAK,QAAU,GAGf,MAAMC,EAAiB,iBAAiB,KAAK,SAAS,QAAQ,SAAS,CAAgB,EACjFC,EAAMD,EAAe,iBAAiB,gBAAgB,EACtDE,EAAMF,EAAe,iBAAiB,gBAAgB,EAE5D,KAAK,GAAKL,EAAG,MAAOC,EAAO,MAAM,SAAS,EAC1C,KAAK,GAAG,UAAU,IAAI,GAAGA,EAAO,MAAM,aAAa,KAAK,OAAQ,OAAO,MAAM,EAE7E,KAAK,GAAG,MAAM,YAAY,iBAAkBK,CAAG,EAC/C,KAAK,GAAG,MAAM,YAAY,iBAAkBC,CAAG,EAE/C,KAAK,cAAc,EAEnB,KAAK,mBAAmB,EAExB,SAAS,KAAK,YAAY,KAAK,EAAE,EAEjC,KAAK,GAAG,UAAU,IAAIN,EAAO,QAAQ,MAAM,EAG3C,WAAW,IAAM,KAAK,GAAG,UAAU,IAAIA,EAAO,QAAQ,MAAM,EAAG,EAAE,CAClE,CAEA,SAAgB,CACV,KAAK,UACV,KAAK,GAAG,OAAO,EACf,KAAK,QAAU,GAChB,CAEA,UAAiB,CAChB,KAAK,cAAc,CACpB,CAEA,UAAiB,CACjB,CACD",
  "names": ["el", "CSS_UI", "parent", "appendTo", "r", "parentDomStyle", "bg0", "bg1"]
}
