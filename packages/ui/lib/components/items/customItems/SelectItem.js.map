{
  "version": 3,
  "sources": ["../../../../src/components/items/customItems/SelectItem.ts"],
  "sourcesContent": ["import { el } from '@fils/utils';\nimport { uiDownarrowHlt } from '@fils/ui-icons';\nimport { CSS_UI } from '../../../partials/cssClasses';\nimport check from '../../../utils/check';\nimport { Panel } from '../../Panel';\nimport { Item } from '../Item';\nimport { SelectItemParameters } from '../ItemParameters';\n\nconst c = {\n\ttype: 'select',\n\tinput: '_ui-select-input',\n\tlabel: '_ui-select-label',\n\topen: '_ui-select-open',\n\n\tpanel: '_ui-panel-select',\n\toption: '_ui-panel-select-option',\n\tsearch: '_ui-panel-select-search',\n\toptionNone: '_ui-panel-select-option-none',\n\tsearchInput: '_ui-panel-select-search-input',\n};\nexport class SelectPanel extends Panel {\n\tparent: SelectItem | null = null;\n\n\tsearch: HTMLElement = el('div');\n\tsearchInput: HTMLInputElement = el('input') as HTMLInputElement;\n\toptionNone: HTMLElement = el('div');\n\n\toptions: Array<{\n\t\tkey: string;\n\t\tvalue: any;\n\t\tdom: HTMLElement;\n\t}> = [];\n\n\taddEventListeners(): void {\n\t\tsuper.addEventListeners();\n\n\t\twindow.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif(!this.created) return;\n\t\t\tconst t = e.target as HTMLElement;\n\t\t\tif (this.el.contains(t)) return;\n\t\t\tif(this.parent!.el.contains(t)) return;\n\n\t\t\tthis.destroy();\n\t\t\tthis.parent!.close();\n\t\t});\n\n\t}\n\n\tcreatePanelContent(): void {\n\n\t\tthis.createSearch();\n\n\t\tconst parentContent = this.parent!.params.options;\n\n\t\tthis.options = Object.keys(parentContent).map((key) => {\n\n\t\t\t// Create option\n\t\t\tconst div = el('div', c.option);\n\t\t\tconst p = el('p');\n\t\t\tp.innerHTML = key;\n\t\t\tdiv.appendChild(p);\n\t\t\tthis.el.appendChild(div);\n\n\t\t\tconst value = (parentContent as Record<string, unknown>)[key];\n\n\t\t\t// Hide selected option\n\t\t\tif (this.parent!.value === value ) div.classList.add(CSS_UI.utility.hidden);\n\n\t\t\t// Add event listener\n\t\t\tdiv.addEventListener('click', () => {\n\t\t\t\tthis.parent!.setValue(value);\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.parent!.close();\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\tvalue,\n\t\t\t\tdom: div,\n\t\t\t}\n\t\t});\n\n\t\t// Empty options message\n\t\tthis.optionNone = el('div', c.optionNone);\n\t\tconst p = el('p');\n\t\tp.innerHTML = 'No options found';\n\t\tthis.optionNone.appendChild(p);\n\t\tthis.el.appendChild(this.optionNone);\n\t\tthis.optionNone.classList.add(CSS_UI.utility.hidden);\n\n\t\tsetTimeout(() => this.searchInput.focus(), 10);\n\n\t}\n\n\tsearchOptions(): void {\n\t\tconst search = this.searchInput.value.toLowerCase();\n\n\t\tthis.optionNone.classList.remove(CSS_UI.utility.hidden);\n\n\t\tthis.options.map(option => {\n\t\t\tif (option.key.toLowerCase().indexOf(search) >= 0 || String(option.value).toLowerCase().indexOf(search) >= 0 || search === '') {\n\t\t\t\toption.dom.classList.remove(CSS_UI.utility.hidden);\n\t\t\t\tthis.optionNone.classList.add(CSS_UI.utility.hidden);\n\t\t\t} else {\n\t\t\t\toption.dom.classList.add(CSS_UI.utility.hidden);\n\t\t\t}\n\t\t});\n\n\t}\n\n\tcreateSearch(): void {\n\n\t\tthis.search = el('div', c.search, this.el);\n\t\tthis.searchInput = el('input', c.searchInput ) as HTMLInputElement;\n\t\tthis.searchInput.placeholder = 'Search';\n\t\tthis.searchInput.type = 'text';\n\t\tthis.search.appendChild(this.searchInput);\n\n\t\tthis.el.appendChild(this.search);\n\n\t\tthis.searchInput.addEventListener('input', () => {\n\t\t\tthis.searchOptions();\n\t\t});\n\n\t}\n}\nexport class SelectItem extends Item {\n\tparams!: SelectItemParameters;\n\n\tpanel?: SelectPanel;\n\toptions: Object = {};\n\n\tinput: HTMLElement = el('div');\n\tlabel: HTMLElement = el('div');\n\n\tprotected activeOption: HTMLElement = el('div');\n\n\tafterCreate(): void {\n\t\tthis.panel = new SelectPanel(this);\n\n\t}\n\n\tprotected addEventListeners(): void {\n\t\tsuper.addEventListeners();\n\n\t\tthis.input.addEventListener('click', () => {\n\n\t\t\tif(!this.panel!.created) {\n\t\t\t\tthis.panel!.create();\n\t\t\t\tthis.open();\n\t\t\t} else {\n\t\t\t\tthis.panel!.destroy();\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t});\n\t}\n\n\topen() {\n\t\tthis.el.classList.add(c.open);\n\t}\n\n\tclose() {\n\t\tthis.el.classList.remove(c.open);\n\t}\n\n\tprotected createContent(): void {\n\n\t\tthis.input = el('div', c.input, this.content) as HTMLElement;\n\t\tthis.input.innerHTML = uiDownarrowHlt;\n\t\tthis.label = el('p', c.label, this.input);\n\n\t}\n\n\tsetValue(value: any): void {\n\t\tthis.label.innerHTML = check.isNull(value) || check.isUndefined(value) ? 'Select...' : value;\n\t\tsuper.setValue(value);\n\t}\n}"],
  "mappings": "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",
  "names": ["el", "uiDownarrowHlt", "CSS_UI", "check", "Panel", "Item", "c", "e", "t", "parentContent", "key", "div", "value", "p", "search", "option"]
}
