{
  "version": 3,
  "sources": ["../../../../src/components/items/customItems/SelectItem.ts"],
  "sourcesContent": ["import { el } from '@fils/utils';\nimport { uiDownarrowHlt } from '@fils/ui-icons';\nimport { CSS_UI } from '../../../partials/cssClasses';\nimport check from '../../../utils/check';\nimport { Panel } from '../../Panel';\nimport { Item } from '../Item';\nimport { SelectItemParameters } from '../ItemParameters';\n\nconst c = {\n\ttype: 'select',\n\tinput: '_ui-select-input',\n\tlabel: '_ui-select-label',\n\topen: '_ui-select-open',\n\n\tpanel: '_ui-panel-select',\n\toption: '_ui-panel-select-option',\n\tsearch: '_ui-panel-select-search',\n\toptionNone: '_ui-panel-select-option-none',\n\tsearchInput: '_ui-panel-select-search-input',\n};\nexport class SelectPanel extends Panel {\n\tparent: SelectItem | null = null;\n\n\tsearch: HTMLElement = el('div');\n\tsearchInput: HTMLInputElement = el('input') as HTMLInputElement;\n\toptionNone: HTMLElement = el('div');\n\n\toptions: Array<{\n\t\tkey: string;\n\t\tvalue: any;\n\t\tdom: HTMLElement;\n\t}> = [];\n\n\taddEventListeners(): void {\n\t\tsuper.addEventListeners();\n\n\t\twindow.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif(!this.created) return;\n\t\t\tconst t = e.target as HTMLElement;\n\t\t\tif (this.el.contains(t)) return;\n\t\t\tif(this.parent!.el.contains(t)) return;\n\n\t\t\tthis.destroy();\n\t\t\tthis.parent!.close();\n\t\t});\n\n\t}\n\n\tcreatePanelContent(): void {\n\n\t\tthis.createSearch();\n\n\t\tconst parentContent = this.parent!.params.options;\n\n\t\tthis.options = Object.keys(parentContent).map((key) => {\n\n\t\t\t// Create option\n\t\t\tconst div = el('div', c.option);\n\t\t\tconst p = el('p');\n\t\t\tp.innerHTML = key;\n\t\t\tdiv.appendChild(p);\n\t\t\tthis.el.appendChild(div);\n\n\t\t\tconst value = (parentContent as Record<string, unknown>)[key];\n\n\t\t\t// Hide selected option\n\t\t\tif (this.parent!.value === value ) div.classList.add(CSS_UI.utility.hidden);\n\n\t\t\t// Add event listener\n\t\t\tdiv.addEventListener('click', () => {\n\t\t\t\tthis.parent!.setValue(value);\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.parent!.close();\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\tvalue,\n\t\t\t\tdom: div,\n\t\t\t}\n\t\t});\n\n\t\t// Empty options message\n\t\tthis.optionNone = el('div', c.optionNone);\n\t\tconst p = el('p');\n\t\tp.innerHTML = 'No options found';\n\t\tthis.optionNone.appendChild(p);\n\t\tthis.el.appendChild(this.optionNone);\n\t\tthis.optionNone.classList.add(CSS_UI.utility.hidden);\n\n\t\tsetTimeout(() => this.searchInput.focus(), 10);\n\n\t}\n\n\tsearchOptions(): void {\n\t\tconst search = this.searchInput.value.toLowerCase();\n\n\t\tthis.optionNone.classList.remove(CSS_UI.utility.hidden);\n\n\t\tthis.options.map(option => {\n\t\t\tif (option.key.toLowerCase().indexOf(search) >= 0 || String(option.value).toLowerCase().indexOf(search) >= 0 || search === '') {\n\t\t\t\toption.dom.classList.remove(CSS_UI.utility.hidden);\n\t\t\t\tthis.optionNone.classList.add(CSS_UI.utility.hidden);\n\t\t\t} else {\n\t\t\t\toption.dom.classList.add(CSS_UI.utility.hidden);\n\t\t\t}\n\t\t});\n\n\t}\n\n\tcreateSearch(): void {\n\n\t\tthis.search = el('div', c.search, this.el);\n\t\tthis.searchInput = el('input', c.searchInput ) as HTMLInputElement;\n\t\tthis.searchInput.placeholder = 'Search';\n\t\tthis.searchInput.type = 'text';\n\t\tthis.search.appendChild(this.searchInput);\n\n\t\tthis.el.appendChild(this.search);\n\n\t\tthis.searchInput.addEventListener('input', () => {\n\t\t\tthis.searchOptions();\n\t\t});\n\n\t}\n}\nexport class SelectItem extends Item {\n\tparams!: SelectItemParameters;\n\n\tpanel?: SelectPanel;\n\toptions: Object = {};\n\n\tinput: HTMLElement = el('div');\n\tlabel: HTMLElement = el('div');\n\n\tprotected activeOption: HTMLElement = el('div');\n\n\tafterCreate(): void {\n\t\tthis.panel = new SelectPanel(this);\n\n\t}\n\n\tprotected addEventListeners(): void {\n\t\tsuper.addEventListeners();\n\n\t\tthis.input.addEventListener('click', () => {\n\n\t\t\tif(!this.panel!.created) {\n\t\t\t\tthis.panel!.create();\n\t\t\t\tthis.open();\n\t\t\t} else {\n\t\t\t\tthis.panel!.destroy();\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t});\n\t}\n\n\topen() {\n\t\tthis.el.classList.add(c.open);\n\t}\n\n\tclose() {\n\t\tthis.el.classList.remove(c.open);\n\t}\n\n\tprotected createContent(): void {\n\n\t\tthis.input = el('div', c.input, this.content) as HTMLElement;\n\t\tthis.input.innerHTML = uiDownarrowHlt;\n\t\tthis.label = el('p', c.label, this.input);\n\n\t}\n\n\tsetValue(value: any): void {\n\t\tthis.label.innerHTML = check.isNull(value) || check.isUndefined(value) ? 'Select...' : value;\n\t\tsuper.setValue(value);\n\t}\n}"],
  "mappings": "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",
  "names": ["p"]
}
