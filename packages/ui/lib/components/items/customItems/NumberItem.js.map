{
  "version": 3,
  "sources": ["../../../../src/components/items/customItems/NumberItem.ts"],
  "sourcesContent": ["import { el } from \"@fils/utils\";\nimport check from \"../../../utils/check\";\nimport { NumberItemParameters } from \"../ItemParameters\";\nimport { uiDownarrowHlt } from '@fils/ui-icons';\nimport { CSS_UI } from \"../../../partials/cssClasses\";\nimport { Item } from \"../Item\";\n\n\nconst c = {\n\ttype: 'number',\n\tinput: '_ui-number-input',\n\tbuttons: '_ui-number-buttons',\n\tbtnIncrease: '_ui-number-btn-increase',\n\tbtnDecrease: '_ui-number-btn-decrease',\n};\nexport class NumberItem extends Item {\n\tparams!: NumberItemParameters;\n\n\tprivate inputElements:Array<any> = [];\n\n\tmax: number | null = null;\n\tmin: number | null = null;\n\tstep: number = 0.01\n\tdecimals: number = 2;\n\n\toriginalDataType: string = 'number';\n\n\tlimitNumber = (value: number):number => {\n\n\t\tlet tmp = value;\n\t\tif(this.max) tmp = Math.min(tmp, this.max);\n\t\tif(this.min) tmp = Math.max(tmp, this.min);\n\n\t\t// Round to decimals\n\t\ttmp = Math.round(tmp * Math.pow(10, this.decimals)) / Math.pow(10, this.decimals);\n\n\t\treturn tmp;\n\t}\n\n\tprotected addEventListeners(): void {\n\n\t\tfor (const inputElement of this.inputElements) {\n\n\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\n\t\t\tinputElement.input.addEventListener('change', () => {\n\t\t\t\tinputElement.value = inputElement.input.valueAsNumber;\n\t\t\t\tinputElement.value = this.limitNumber(inputElement.value);\n\t\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\t\t\t\tthis.setValue();\n\t\t\t});\n\n\t\t\tinputElement.buttonIncrease.addEventListener('click', () => {\n\t\t\t\tinputElement.value += this.step;\n\t\t\t\tinputElement.value = this.limitNumber(inputElement.value);\n\t\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\t\t\t\tthis.setValue();\n\t\t\t});\n\n\t\t\tinputElement.buttonDecrease.addEventListener('click', () => {\n\t\t\t\tinputElement.value -= this.step;\n\t\t\t\tinputElement.value = this.limitNumber(inputElement.value);\n\t\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\t\t\t\tthis.setValue();\n\t\t\t});\n\n\t\t}\n\n\t}\n\n\tsetValue(_value?: string | Array<number> | Object ): void {\n\n\t\t// Only first setValue will have a value\n\t\tif(_value) this.originalDataType = check.getType(_value) as string;\n\n\t\t// Update this value to the current value\n\t\tlet inputsValue = [];\n\t\tfor(const inputElement of this.inputElements) inputsValue.push(inputElement.value);\n\t\tthis.value = inputsValue;\n\n\t\t// Translate from array to the original data type\n\t\tlet valueForOutput = null;\n\t\tif(this.originalDataType === 'number') valueForOutput = inputsValue[0];\n\t\telse if(this.originalDataType === 'array') valueForOutput = inputsValue;\n\t\telse if(this.originalDataType === 'object') {\n\t\t\tvalueForOutput = {} as Object;\n\t\t\tlet i = 0;\n\t\t\tfor (const key in this.object[this.key]) {\n\t\t\t\tvalueForOutput[key] = inputsValue[i] as number;\n\t\t\t}\n\t\t}\n\n\t\tthis.object[this.key] = valueForOutput;\n\t\tthis.refreshDom();\n\t}\n\n\tprotected createInput(value: number) {\n\t\tconst inputElement = {\n\t\t\tvalue,\n\t\t\tplaceholder: 'Value',\n\t\t\twrapper: null,\n\t\t\tinput: null,\n\t\t\tbuttonIncrease: null,\n\t\t\tbuttonDecrease: null\n\t\t}\n\t\treturn inputElement;\n\t}\n\n\tprotected createInputs(value: number | number[] | Object): void {\n\n\t\tthis.inputElements = [];\n\n\t\t// If value is a number, create one input\n\t\tif (check.isNumber(value)) this.inputElements.push(this.createInput(value as number));\n\n\t\t// If value is an array, create one input for each item\n\t\telse if (check.isArray(value)) {\n\t\t\tfor (const item of value as number[]) {\n\t\t\t\tthis.inputElements.push(this.createInput(item));\n\t\t\t}\n\t\t}\n\n\t\t// If value is an object, create one input for each key\n\t\telse if (check.isObject(value)) {\n\t\t\tfor (const key in value as Object) {\n\t\t\t\tconst item = this.createInput(value[key]);\n\t\t\t\titem.placeholder = key;\n\t\t\t\tthis.inputElements.push(item);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tprotected createInputContent(inputElement:any): void {\n\n\t\t// Create wrapper\n\t\tinputElement.wrapper = el('div', c.input);\n\n\t\t// Create input\n\t\tinputElement.input = el('input') as HTMLInputElement;;\n\t\tinputElement.input.type = 'number';\n\t\tinputElement.input.placeholder = inputElement.placeholder;\n\t\tif(this.min) inputElement.input.min = this.min.toString();\n\t\tif(this.max) inputElement.input.max = this.max.toString();\n\t\tif(this.step) inputElement.input.step = this.step.toString();\n\n\t\t// Append input to wrapper\n\t\tinputElement.wrapper.appendChild(inputElement.input);\n\n\t\t// Create buttons\n\t\tconst btns = el('div', c.buttons);\n\n\t\tinputElement.buttonIncrease = el('button', c.btnIncrease) as HTMLButtonElement;\n\t\tinputElement.buttonIncrease.innerHTML = uiDownarrowHlt;\n\n\t\tinputElement.buttonDecrease = el('button', c.btnDecrease) as HTMLButtonElement;\n\t\tinputElement.buttonDecrease.innerHTML = uiDownarrowHlt;\n\n\t\tbtns.appendChild(inputElement.buttonIncrease);\n\t\tbtns.appendChild(inputElement.buttonDecrease);\n\t\tinputElement.wrapper.appendChild(btns);\n\n\t\tif (this.inputElements.length > 2) {\n\t\t\tinputElement.buttonIncrease.classList.add(`.${CSS_UI.utility.hidden}`);\n\t\t\tinputElement.buttonDecrease.classList.add(`.${CSS_UI.utility.hidden}`);\n\t\t}\n\n\t\tthis.content.appendChild(inputElement.wrapper);\n\t}\n\n\tprotected createContent(): void {\n\n\t\tthis.max = this.params.max ? this.params.max : null;\n\t\tthis.min = this.params.min ? this.params.min : null;\n\t\tthis.step = this.params.step ? this.params.step : this.step;\n\t\tthis.decimals = this.params.decimals ? this.params.decimals : this.decimals;\n\n\t\tthis.createInputs(this.object[this.key]);\n\n\t\tfor(const inputElement of this.inputElements) {\n\t\t\tthis.createInputContent(inputElement);\n\t\t}\n\t}\n\n\n}\n\n"],
  "mappings": "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",
  "names": []
}
