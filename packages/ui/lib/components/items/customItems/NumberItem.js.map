{
  "version": 3,
  "sources": ["../../../../src/components/items/customItems/NumberItem.ts"],
  "sourcesContent": ["import { el } from \"@fils/utils\";\nimport check from \"../../../utils/check\";\nimport { NumberItemParameters } from \"../ItemParameters\";\nimport { uiDownarrowHlt } from '@fils/ui-icons';\nimport { CSS_UI } from \"../../../partials/cssClasses\";\nimport { Item } from \"../Item\";\n\n\nconst c = {\n\ttype: 'number',\n\tinput: '_ui-number-input',\n\tbuttons: '_ui-number-buttons',\n\tbtnIncrease: '_ui-number-btn-increase',\n\tbtnDecrease: '_ui-number-btn-decrease',\n};\nexport class NumberItem extends Item {\n\tparams!: NumberItemParameters;\n\n\tprivate inputElements:Array<any> = [];\n\n\tmax: number | null = null;\n\tmin: number | null = null;\n\tstep: number = 0.01\n\tdecimals: number = 2;\n\n\toriginalDataType: string = 'number';\n\n\tlimitNumber = (value: number):number => {\n\n\t\tlet tmp = value;\n\t\tif(this.max) tmp = Math.min(tmp, this.max);\n\t\tif(this.min) tmp = Math.max(tmp, this.min);\n\n\t\t// Round to decimals\n\t\ttmp = Math.round(tmp * Math.pow(10, this.decimals)) / Math.pow(10, this.decimals);\n\n\t\treturn tmp;\n\t}\n\n\tprotected addEventListeners(): void {\n\n\t\tfor (const inputElement of this.inputElements) {\n\n\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\n\t\t\tinputElement.input.addEventListener('change', () => {\n\t\t\t\tinputElement.value = inputElement.input.valueAsNumber;\n\t\t\t\tinputElement.value = this.limitNumber(inputElement.value);\n\t\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\t\t\t\tthis.setValue();\n\t\t\t});\n\n\t\t\tinputElement.buttonIncrease.addEventListener('click', () => {\n\t\t\t\tinputElement.value += this.step;\n\t\t\t\tinputElement.value = this.limitNumber(inputElement.value);\n\t\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\t\t\t\tthis.setValue();\n\t\t\t});\n\n\t\t\tinputElement.buttonDecrease.addEventListener('click', () => {\n\t\t\t\tinputElement.value -= this.step;\n\t\t\t\tinputElement.value = this.limitNumber(inputElement.value);\n\t\t\t\tinputElement.input.valueAsNumber = inputElement.value;\n\t\t\t\tthis.setValue();\n\t\t\t});\n\n\t\t}\n\n\t}\n\n\tsetValue(_value?: string | Array<number> | Object ): void {\n\n\t\t// Only first setValue will have a value\n\t\tif(_value) this.originalDataType = check.getType(_value) as string;\n\n\t\t// Update this value to the current value\n\t\tlet inputsValue = [];\n\t\tfor(const inputElement of this.inputElements) inputsValue.push(inputElement.value);\n\t\tthis.value = inputsValue;\n\n\t\t// Translate from array to the original data type\n\t\tlet valueForOutput = null;\n\t\tif(this.originalDataType === 'number') valueForOutput = inputsValue[0];\n\t\telse if(this.originalDataType === 'array') valueForOutput = inputsValue;\n\t\telse if(this.originalDataType === 'object') {\n\t\t\tvalueForOutput = {} as Object;\n\t\t\tlet i = 0;\n\t\t\tfor (const key in this.object[this.key]) {\n\t\t\t\tvalueForOutput[key] = inputsValue[i] as number;\n\t\t\t}\n\t\t}\n\n\t\tthis.object[this.key] = valueForOutput;\n\t\tthis.refreshDom();\n\t}\n\n\tprotected createInput(value: number) {\n\t\tconst inputElement = {\n\t\t\tvalue,\n\t\t\tplaceholder: 'Value',\n\t\t\twrapper: null,\n\t\t\tinput: null,\n\t\t\tbuttonIncrease: null,\n\t\t\tbuttonDecrease: null\n\t\t}\n\t\treturn inputElement;\n\t}\n\n\tprotected createInputs(value: number | number[] | Object): void {\n\n\t\tthis.inputElements = [];\n\n\t\t// If value is a number, create one input\n\t\tif (check.isNumber(value)) this.inputElements.push(this.createInput(value as number));\n\n\t\t// If value is an array, create one input for each item\n\t\telse if (check.isArray(value)) {\n\t\t\tfor (const item of value as number[]) {\n\t\t\t\tthis.inputElements.push(this.createInput(item));\n\t\t\t}\n\t\t}\n\n\t\t// If value is an object, create one input for each key\n\t\telse if (check.isObject(value)) {\n\t\t\tfor (const key in value as Object) {\n\t\t\t\tconst item = this.createInput(value[key]);\n\t\t\t\titem.placeholder = key;\n\t\t\t\tthis.inputElements.push(item);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tprotected createInputContent(inputElement:any): void {\n\n\t\t// Create wrapper\n\t\tinputElement.wrapper = el('div', c.input);\n\n\t\t// Create input\n\t\tinputElement.input = el('input') as HTMLInputElement;;\n\t\tinputElement.input.type = 'number';\n\t\tinputElement.input.placeholder = inputElement.placeholder;\n\t\tif(this.min) inputElement.input.min = this.min.toString();\n\t\tif(this.max) inputElement.input.max = this.max.toString();\n\t\tif(this.step) inputElement.input.step = this.step.toString();\n\n\t\t// Append input to wrapper\n\t\tinputElement.wrapper.appendChild(inputElement.input);\n\n\t\t// Create buttons\n\t\tconst btns = el('div', c.buttons);\n\n\t\tinputElement.buttonIncrease = el('button', c.btnIncrease) as HTMLButtonElement;\n\t\tinputElement.buttonIncrease.innerHTML = uiDownarrowHlt;\n\n\t\tinputElement.buttonDecrease = el('button', c.btnDecrease) as HTMLButtonElement;\n\t\tinputElement.buttonDecrease.innerHTML = uiDownarrowHlt;\n\n\t\tbtns.appendChild(inputElement.buttonIncrease);\n\t\tbtns.appendChild(inputElement.buttonDecrease);\n\t\tinputElement.wrapper.appendChild(btns);\n\n\t\tif (this.inputElements.length > 2) {\n\t\t\tinputElement.buttonIncrease.classList.add(`.${CSS_UI.utility.hidden}`);\n\t\t\tinputElement.buttonDecrease.classList.add(`.${CSS_UI.utility.hidden}`);\n\t\t}\n\n\t\tthis.content.appendChild(inputElement.wrapper);\n\t}\n\n\tprotected createContent(): void {\n\n\t\tthis.max = this.params.max ? this.params.max : null;\n\t\tthis.min = this.params.min ? this.params.min : null;\n\t\tthis.step = this.params.step ? this.params.step : this.step;\n\t\tthis.decimals = this.params.decimals ? this.params.decimals : this.decimals;\n\n\t\tthis.createInputs(this.object[this.key]);\n\n\t\tfor(const inputElement of this.inputElements) {\n\t\t\tthis.createInputContent(inputElement);\n\t\t}\n\t}\n\n\n}\n\n"],
  "mappings": "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",
  "names": ["el", "check", "uiDownarrowHlt", "CSS_UI", "Item", "c", "value", "tmp", "inputElement", "_value", "inputsValue", "valueForOutput", "i", "key", "item", "btns"]
}
